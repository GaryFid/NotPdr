# üéØ –ü–û–®–ê–ì–û–í–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê P.I.D.R. –ú–£–õ–¨–¢–ò–ü–õ–ï–ï–†–ê

## üìã –ß–¢–û –£ –í–ê–° –ï–°–¢–¨:

‚úÖ **Frontend –Ω–∞ Vercel** - Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ  
‚úÖ **Telegram Bot** - –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç  
‚úÖ **CORS_ORIGIN** - –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –≤–∞—à —Å–∞–π—Ç  

## üéØ –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨:

### **–®–ê–ì 1: –î–ï–ü–õ–û–ô BACKEND –ù–ê RAILWAY**

#### 1.1 –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç Railway
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [railway.app](https://railway.app)
2. –ù–∞–∂–º–∏—Ç–µ "Login" ‚Üí "Login with GitHub"
3. –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é

#### 1.2 –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
1. –ù–∞–∂–º–∏—Ç–µ "New Project"
2. –í—ã–±–µ—Ä–∏—Ç–µ "Deploy from GitHub repo"
3. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `pidr_react`
4. –í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É `server` –∫–∞–∫ Root Directory
5. –ù–∞–∂–º–∏—Ç–µ "Deploy"

#### 1.3 –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–í Railway Dashboard ‚Üí Variables –¥–æ–±–∞–≤—å—Ç–µ:

```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
PORT=3001
NODE_ENV=production

# CORS (–ó–ê–ú–ï–ù–ò–¢–ï –ù–ê –í–ê–® VERCEL –î–û–ú–ï–ù!)
CORS_ORIGIN=https://your-app.vercel.app,https://web.telegram.org,https://t.me

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DATABASE_URL=./pidr.db

# –ò–≥—Ä–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
MAX_PLAYERS=9
MIN_PLAYERS=4
ROOM_CLEANUP_INTERVAL=300000

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
LOG_LEVEL=info
```

#### 1.4 –î–æ–∂–¥–∏—Ç–µ—Å—å –¥–µ–ø–ª–æ—è
- Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –î–æ–∂–¥–∏—Ç–µ—Å—å —Å—Ç–∞—Ç—É—Å–∞ "Deployed"
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://pidr-server-production.up.railway.app`)

---

### **–®–ê–ì 2: –ù–ê–°–¢–†–û–ô–ö–ê VERCEL**

#### 2.1 –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–í Vercel Dashboard ‚Üí Settings ‚Üí Environment Variables –¥–æ–±–∞–≤—å—Ç–µ:

```bash
# WebSocket URL (–ó–ê–ú–ï–ù–ò–¢–ï –ù–ê –í–ê–® RAILWAY URL!)
NEXT_PUBLIC_WS_URL=wss://pidr-server-production.up.railway.app

# API URL (–ó–ê–ú–ï–ù–ò–¢–ï –ù–ê –í–ê–® RAILWAY URL!)
NEXT_PUBLIC_API_URL=https://pidr-server-production.up.railway.app
```

#### 2.2 –ü–µ—Ä–µ–¥–µ–ø–ª–æ–π—Ç–µ Vercel
1. –°–¥–µ–ª–∞–π—Ç–µ –ª—é–±–æ–π commit –≤ GitHub
2. Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–µ–ø–ª–æ–∏—Ç —Å –Ω–æ–≤—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è

---

### **–®–ê–ì 3: –û–ë–ù–û–í–õ–ï–ù–ò–ï TELEGRAM BOT**

#### 3.1 –û–±–Ω–æ–≤–∏—Ç–µ WebApp URL
–í @BotFather:
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/mybots`
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
3. –ù–∞–∂–º–∏—Ç–µ "Bot Settings" ‚Üí "Menu Button"
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ URL: `https://your-app.vercel.app`

#### 3.2 –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- WebApp URL: `https://your-app.vercel.app`
- Commands: `/start` - –∑–∞–ø—É—Å–∫ –∏–≥—Ä—ã
- Description: P.I.D.R. Card Game

---

### **–®–ê–ì 4: –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï**

#### 4.1 –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Railway
1. –û—Ç–∫—Ä–æ–π—Ç–µ Railway Dashboard
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Deployments"
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ - –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫

#### 4.2 –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Vercel
1. –û—Ç–∫—Ä–æ–π—Ç–µ Vercel Dashboard
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Functions"
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

#### 4.3 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Telegram
1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
2. –ù–∞–∂–º–∏—Ç–µ "Start" –∏–ª–∏ "Play"
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–û–ù–õ–ê–ô–ù" ‚Üí "–°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É"
4. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–Ω–∞—Ç—É –Ω–∞ 4-9 –∏–≥—Ä–æ–∫–æ–≤
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –∫–æ–º–Ω–∞—Ç—ã
6. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ –¥—Ä—É–≥–æ–º –∞–∫–∫–∞—É–Ω—Ç–µ Telegram
7. –í–æ–π–¥–∏—Ç–µ –≤ –∫–æ–º–Ω–∞—Ç—É –ø–æ –∫–æ–¥—É
8. –ù–∞—á–Ω–∏—Ç–µ –∏–≥—Ä—É!

---

## üîß –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú

### ‚ùå WebSocket –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. `NEXT_PUBLIC_WS_URL` –≤ Vercel (–¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `wss://`)
2. `CORS_ORIGIN` –≤ Railway (–¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤–∞—à Vercel –¥–æ–º–µ–Ω)
3. Railway —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω (—Å—Ç–∞—Ç—É—Å "Deployed")

### ‚ùå CORS –æ—à–∏–±–∫–∏
**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –í Railway `CORS_ORIGIN` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–∞—à Vercel –¥–æ–º–µ–Ω
2. –í Vercel `NEXT_PUBLIC_WS_URL` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Railway —Å–µ—Ä–≤–µ—Ä

### ‚ùå –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. `DATABASE_URL=./pidr.db` –≤ Railway
2. –õ–æ–≥–∏ Railway –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ SQLite
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Railway —Å–µ—Ä–≤–µ—Ä

---

## üéâ –ì–û–¢–û–í–û!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ —É –≤–∞—Å –±—É–¥–µ—Ç:

‚úÖ **–ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä –¥–æ 9 –∏–≥—Ä–æ–∫–æ–≤**  
‚úÖ **WebSocket —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**  
‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**  
‚úÖ **–°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π**  
‚úÖ **–†–µ–π—Ç–∏–Ω–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞**  

**–°—Å—ã–ª–∫–∏:**
- **–ò–≥—Ä–∞:** https://your-app.vercel.app
- **Telegram Bot:** @your_bot
- **Railway Dashboard:** https://railway.app/dashboard
- **Vercel Dashboard:** https://vercel.com/dashboard

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Railway
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä—ã

**–£–¥–∞—á–∏ —Å P.I.D.R. –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–æ–º! üéÆüöÄ**
