# üöÄ –î–ï–ü–õ–û–ô P.I.D.R. –ú–£–õ–¨–¢–ò–ü–õ–ï–ï–†–ê

## üìã –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

- **Frontend:** Vercel (Next.js + Telegram WebApp)
- **Backend:** Railway (Node.js + WebSocket + SQLite)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** SQLite (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≤ Railway)

---

## üéØ –®–ê–ì 1: –ü–û–î–ì–û–¢–û–í–ö–ê BACKEND

### 1.1 –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ Railway
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [railway.app](https://railway.app)
2. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email

### 1.2 –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
1. –ù–∞–∂–º–∏—Ç–µ "New Project"
2. –í—ã–±–µ—Ä–∏—Ç–µ "Deploy from GitHub repo"
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É `server`

### 1.3 –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–í Railway Dashboard ‚Üí Variables –¥–æ–±–∞–≤—å—Ç–µ:

```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
PORT=3001
NODE_ENV=production

# CORS (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à Vercel –¥–æ–º–µ–Ω)
CORS_ORIGIN=https://your-app.vercel.app,https://web.telegram.org,https://t.me

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DATABASE_URL=./pidr.db

# –ò–≥—Ä–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
MAX_PLAYERS=9
MIN_PLAYERS=4
ROOM_CLEANUP_INTERVAL=300000

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
LOG_LEVEL=info
```

### 1.4 –î–µ–ø–ª–æ–π
1. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç –ø—Ä–∏ push –≤ GitHub
2. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://pidr-server-production.up.railway.app`)

---

## üéØ –®–ê–ì 2: –ù–ê–°–¢–†–û–ô–ö–ê FRONTEND

### 2.1 –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è Vercel
–í Vercel Dashboard ‚Üí Settings ‚Üí Environment Variables –¥–æ–±–∞–≤—å—Ç–µ:

```bash
# WebSocket URL (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à Railway URL)
NEXT_PUBLIC_WS_URL=wss://pidr-server-production.up.railway.app

# API URL
NEXT_PUBLIC_API_URL=https://pidr-server-production.up.railway.app
```

### 2.2 –û–±–Ω–æ–≤–∏—Ç–µ CORS –≤ Railway
–í Railway Dashboard ‚Üí Variables –æ–±–Ω–æ–≤–∏—Ç–µ:

```bash
CORS_ORIGIN=https://your-app.vercel.app,https://web.telegram.org,https://t.me
```

### 2.3 –ü–µ—Ä–µ–¥–µ–ø–ª–æ–π—Ç–µ Vercel
1. –°–¥–µ–ª–∞–π—Ç–µ push –≤ GitHub
2. Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–µ–ø–ª–æ–∏—Ç —Å –Ω–æ–≤—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏

---

## üéØ –®–ê–ì 3: –ù–ê–°–¢–†–û–ô–ö–ê TELEGRAM BOT

### 3.1 –û–±–Ω–æ–≤–∏—Ç–µ WebApp URL
–í @BotFather –æ–±–Ω–æ–≤–∏—Ç–µ WebApp URL –Ω–∞ –≤–∞—à Vercel –¥–æ–º–µ–Ω:

```
https://your-app.vercel.app
```

### 3.2 –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- WebApp URL: `https://your-app.vercel.app`
- Commands: `/start` - –∑–∞–ø—É—Å–∫ –∏–≥—Ä—ã
- Description: P.I.D.R. Card Game

---

## üéØ –®–ê–ì 4: –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### 4.1 –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ backend –ª–æ–∫–∞–ª—å–Ω–æ
cd server
npm install
npm run dev

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ frontend
npm run dev
```

### 4.2 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Telegram
1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
2. –ù–∞–∂–º–∏—Ç–µ "Start" –∏–ª–∏ "Play"
3. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–Ω–∞—Ç—É
4. –ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ –¥—Ä—É–∑–µ–π –ø–æ –∫–æ–¥—É –∫–æ–º–Ω–∞—Ç—ã
5. –ù–∞—á–Ω–∏—Ç–µ –∏–≥—Ä—É

---

## üéØ –®–ê–ì 5: –ú–û–ù–ò–¢–û–†–ò–ù–ì

### 5.1 Railway Dashboard
- **Logs:** –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞
- **Metrics:** CPU, –ø–∞–º—è—Ç—å, —Å–µ—Ç—å
- **Deployments:** –ò—Å—Ç–æ—Ä–∏—è –¥–µ–ø–ª–æ–µ–≤

### 5.2 Vercel Dashboard
- **Analytics:** –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **Functions:** –õ–æ–≥–∏ API —Ñ—É–Ω–∫—Ü–∏–π
- **Deployments:** –ò—Å—Ç–æ—Ä–∏—è –¥–µ–ø–ª–æ–µ–≤

---

## üîß –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú

### –ü—Ä–æ–±–ª–µ–º–∞: WebSocket –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `NEXT_PUBLIC_WS_URL` –≤ Vercel
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `CORS_ORIGIN` –≤ Railway
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Railway —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω

### –ü—Ä–æ–±–ª–µ–º–∞: CORS –æ—à–∏–±–∫–∏
**–†–µ—à–µ–Ω–∏–µ:**
1. –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à Vercel –¥–æ–º–µ–Ω –≤ `CORS_ORIGIN`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Railway —Å–µ—Ä–≤–µ—Ä
3. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `DATABASE_URL` –≤ Railway
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ SQLite —Ñ–∞–π–ª —Å–æ–∑–¥–∞–µ—Ç—Å—è
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Railway

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:
- ‚úÖ **–ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä –¥–æ 9 –∏–≥—Ä–æ–∫–æ–≤**
- ‚úÖ **WebSocket —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**
- ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π**
- ‚úÖ **–†–µ–π—Ç–∏–Ω–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞**

---

## üéâ –ì–û–¢–û–í–û!

–í–∞—à P.I.D.R. –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

**–°—Å—ã–ª–∫–∏:**
- **–ò–≥—Ä–∞:** https://your-app.vercel.app
- **Telegram Bot:** @your_bot
- **Railway Dashboard:** https://railway.app/dashboard
- **Vercel Dashboard:** https://vercel.com/dashboard
